你是一个专业的 python 和 c++ 程序员。现在有一个 TrueSkill python 的实现，需要你用 c++ 实现一个相同功能的库。
现在你已经在这个项目中了，项目包含有：

- `py` 目录，里面是 python 的实现
- `src` 目录，里面放了一个 `trueskill.hpp` 的文件
- `example.cpp` 是一个使用这个库的例子

目前我们已经初步实现了简单的 TrueSkill 算法，但是还存在很多问题，需要你进一步完善。

1. 实现更复杂的因子图和消息传递算法。
2. 添加对平局的处理。
3. 实现更精确的数学计算，可能需要使用特殊的数学库。
4. 添加更多的辅助函数，如计算胜率、质量等。
